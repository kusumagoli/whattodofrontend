{"ast":null,"code":"import _classCallCheck from \"/Users/meghana/Documents/dev/VVfrontend/leaflet-example/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/meghana/Documents/dev/VVfrontend/leaflet-example/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/meghana/Documents/dev/VVfrontend/leaflet-example/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/meghana/Documents/dev/VVfrontend/leaflet-example/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/meghana/Documents/dev/VVfrontend/leaflet-example/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/meghana/Documents/dev/VVfrontend/leaflet-example/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/meghana/Documents/dev/VVfrontend/leaflet-example/src/components/app/mapview/cardview.js\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport Card from '@material-ui/core/Card';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport Grid from '@material-ui/core/Grid';\nimport CardActions from '@material-ui/core/CardActions';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardMedia from '@material-ui/core/CardMedia';\nimport Button from '@material-ui/core/Button';\nimport Typography from '@material-ui/core/Typography';\nimport classNames from 'classnames';\nimport Header from '../headers';\nimport SideNav from './../sidebar/sidenav';\nimport SideNavBefore from './../sidebar/sidenavbefore';\nimport MapRender from '../../maprender/mapreder';\n\nvar styles = function styles(theme) {\n  return {\n    cardGrid: {\n      padding: \"\".concat(theme.spacing.unit * 8, \"px 0\")\n    },\n    card: {\n      height: '400px',\n      display: 'flex',\n      flexDirection: 'column',\n      width: '350px',\n      margin: '15px'\n    },\n    cardMedia: {\n      paddingTop: '56.25%' // 16:9\n\n    },\n    cardContent: {\n      flexGrow: 1\n    },\n    button: {\n      margin: theme.spacing.unit\n    },\n    input: {\n      display: 'none'\n    }\n  };\n};\n\nvar cards = [1];\nvar body;\nvar flag = this.props.location.state.flag;\n\nvar CardView =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(CardView, _React$Component);\n\n  function CardView(props) {\n    var _this;\n\n    _classCallCheck(this, CardView);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(CardView).call(this, props));\n    _this.handleViewMore = _this.handleViewMore.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.state = {\n      data: [],\n      id: \"\"\n    };\n    return _this;\n  }\n\n  _createClass(CardView, [{\n    key: \"handleViewMore\",\n    value: function handleViewMore(event) {\n      var _this2 = this;\n\n      this.setState({\n        id: event.currentTarget.value\n      }, function () {\n        console.log(_this2.state.id);\n        var id = _this2.state.id;\n        console.log(id);\n        var path = \"/view/\";\n\n        _this2.props.history.push({\n          pathname: path,\n          state: {\n            id: id\n          }\n        });\n\n        console.log(\"sent city\" + _this2.state.id);\n      });\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount(event) {\n      var _this3 = this;\n\n      var city = this.props.location.state.city;\n      console.log(this.props.location.state.city);\n      console.log(city);\n      var category = localStorage.getItem(\"Category\");\n      localStorage.removeItem(\"Category\");\n      console.log(category);\n\n      if (category == undefined) {\n        body = {\n          city: city\n        };\n        console.log(body);\n        console.log(body.city);\n        var url = \"http://localhost:9000/attractions/city\";\n        var headers = new Headers();\n        headers.append('Content-Type', 'application/json');\n        headers.append('Accept', 'application/json');\n        headers.append('Access-Control-Allow-Origin', url);\n        headers.append('Access-Control-Allow-Credentials', 'true');\n        headers.append('PUT', 'POST');\n        fetch(url, {\n          headers: headers,\n          method: 'PUT',\n          body: JSON.stringify(body)\n        }).then(function (response) {\n          return response.json();\n        }).then(function (contents) {\n          console.log(\"In fetch: \" + contents);\n\n          _this3.setState({\n            data: contents\n          });\n\n          console.log('test1 ' + _this3.state);\n        }).catch(function () {\n          return console.log(\"can't access\" + url + \"response. \");\n        });\n      } else {\n        body = {\n          city: city,\n          category: category\n        };\n        console.log(body);\n        var _url = \"http://localhost:9000/attractions/category\";\n\n        var _headers = new Headers();\n\n        _headers.append('Content-Type', 'application/json');\n\n        _headers.append('Accept', 'application/json');\n\n        _headers.append('Access-Control-Allow-Origin', _url);\n\n        _headers.append('Access-Control-Allow-Credentials', 'true');\n\n        _headers.append('PUT', 'POST');\n\n        fetch(_url, {\n          headers: _headers,\n          method: 'PUT',\n          body: JSON.stringify(body)\n        }).then(function (response) {\n          return response.json();\n        }).then(function (contents) {\n          console.log(\"In fetch: \" + contents);\n\n          _this3.setState({\n            data: contents\n          });\n\n          console.log('test1 ' + _this3.state);\n        }).catch(function () {\n          return console.log(\"can't access\" + _url + \"response. \");\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this4 = this;\n\n      var classes = this.props.classes;\n      return React.createElement(React.Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 172\n        },\n        __self: this\n      }, React.createElement(CssBaseline, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 173\n        },\n        __self: this\n      }), React.createElement(\"main\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 174\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 175\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        style: {\n          display: 'flex',\n          flexFlow: 'horizantal',\n          paddingBottom: '100px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 177\n        },\n        __self: this\n      }, localStorage.getItem(\"AccessToken\") == null ? React.createElement(SideNavBefore, {\n        history: this.props.history,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 180\n        },\n        __self: this\n      }) : React.createElement(SideNav, {\n        history: this.props.history,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 180\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: classes.heroUnit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 183\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: classes.heroContent,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 184\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 185\n        },\n        __self: this\n      }, React.createElement(Typography, {\n        component: \"h1\",\n        variant: \"h2\",\n        align: \"center\",\n        color: \"textPrimary\",\n        gutterBottom: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 187\n        },\n        __self: this\n      }, React.createElement(\"b\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 188\n        },\n        __self: this\n      }, \" Attractions to Visit\")), React.createElement(MapRender, {\n        data: this.state.data,\n        history: this.props.history,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 190\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        style: {\n          display: 'flex',\n          flexWrap: 'wrap',\n          margin: '5px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 195\n        },\n        __self: this\n      }, this.state.data.map(function (Attractions, index) {\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 199\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: classNames(classes.cardGrid),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 200\n          },\n          __self: this\n        }, React.createElement(Grid, {\n          container: true,\n          spacing: 24,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 202\n          },\n          __self: this\n        }, cards.map(function (card) {\n          return React.createElement(Grid, {\n            item: true,\n            key: card,\n            sm: 2,\n            md: 2,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 206\n            },\n            __self: this\n          }, React.createElement(Card, {\n            className: classes.card,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 207\n            },\n            __self: this\n          }, React.createElement(CardMedia, {\n            className: classes.cardMedia,\n            image: Attractions.imageUrls[0],\n            title: Attractions.attr_Name,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 208\n            },\n            __self: this\n          }), React.createElement(CardContent, {\n            className: classes.cardContent,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 213\n            },\n            __self: this\n          }, React.createElement(Typography, {\n            gutterBottom: true,\n            variant: \"h6\",\n            component: \"h6\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 215\n            },\n            __self: this\n          }, React.createElement(\"b\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 216\n            },\n            __self: this\n          }, Attractions.attr_Name)), React.createElement(Typography, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 218\n            },\n            __self: this\n          }, React.createElement(\"b\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 219\n            },\n            __self: this\n          }, \"Location:\"), Attractions.location), React.createElement(Typography, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 221\n            },\n            __self: this\n          }, React.createElement(\"b\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 222\n            },\n            __self: this\n          }, \"Timings:\"), Attractions.from_Timings, \" \", React.createElement(\"b\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 222\n            },\n            __self: this\n          }, \" - \"), \" \", Attractions.upto_Timings), React.createElement(Typography, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 224\n            },\n            __self: this\n          }, React.createElement(\"b\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 225\n            },\n            __self: this\n          }, \"Rating:\"), Attractions.rating, React.createElement(Button, {\n            size: \"small\",\n            color: \"primary\",\n            className: classes.button,\n            style: {\n              float: \"right\"\n            },\n            onClick: _this4.handleViewMore,\n            value: Attractions.aid,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 226\n            },\n            __self: this\n          }, \"View More\")))));\n        }))));\n      })))))));\n    }\n  }]);\n\n  return CardView;\n}(React.Component);\n\nCardView.propTypes = {\n  classes: PropTypes.object.isRequired\n};\nexport default withStyles(styles)(CardView);","map":{"version":3,"sources":["/Users/meghana/Documents/dev/VVfrontend/leaflet-example/src/components/app/mapview/cardview.js"],"names":["React","PropTypes","withStyles","Card","CssBaseline","Grid","CardActions","CardContent","CardMedia","Button","Typography","classNames","Header","SideNav","SideNavBefore","MapRender","styles","theme","cardGrid","padding","spacing","unit","card","height","display","flexDirection","width","margin","cardMedia","paddingTop","cardContent","flexGrow","button","input","cards","body","flag","props","location","state","CardView","handleViewMore","bind","data","id","event","setState","currentTarget","value","console","log","path","history","push","pathname","city","category","localStorage","getItem","removeItem","undefined","url","headers","Headers","append","fetch","method","JSON","stringify","then","response","json","contents","catch","classes","flexFlow","paddingBottom","heroUnit","heroContent","flexWrap","map","Attractions","index","imageUrls","attr_Name","from_Timings","upto_Timings","rating","float","aid","Component","propTypes","object","isRequired"],"mappings":"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","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport Card from '@material-ui/core/Card';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport Grid from '@material-ui/core/Grid';\nimport CardActions from '@material-ui/core/CardActions';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardMedia from '@material-ui/core/CardMedia';\nimport Button from '@material-ui/core/Button';\nimport Typography from '@material-ui/core/Typography';\nimport classNames from 'classnames';\n\nimport Header from '../headers';\nimport SideNav from './../sidebar/sidenav';\nimport SideNavBefore from './../sidebar/sidenavbefore';\nimport MapRender from '../../maprender/mapreder';\n\n\nconst styles = theme => ({\n  \n  cardGrid: {\n    padding: `${theme.spacing.unit * 8}px 0`,\n  },\n  card: {\n    height: '400px',\n    display: 'flex',\n    flexDirection: 'column',\n    width: '350px',\n    margin: '15px'\n    \n  },\n  cardMedia: {\n    paddingTop: '56.25%', // 16:9\n  },\n  cardContent: {\n    flexGrow: 1,\n  },\n  button: {\n    margin: theme.spacing.unit,\n  },\n  input: {\n    display: 'none',\n  },\n});\n\nconst cards = [1];\nvar body;\nlet flag= this.props.location.state.flag;\n\nclass CardView extends React.Component {\n    constructor(props){\n        super(props);\n        this.handleViewMore =this.handleViewMore.bind(this)\n        this.state = {\n          data : [],\n          id : \"\"\n        }\n      }\n\n\n      handleViewMore(event) {\n\n        this.setState({id:event.currentTarget.value}, () => {\n        console.log(this.state.id)\n    \n        let id=this.state.id\n        console.log(id);\n        let path= `/view/`;\n        this.props.history.push({\n          pathname: path,\n          state: {\n            id : id\n          }\n       }) \n    \n       console.log(\"sent city\"+this.state.id)\n          });\n        \n      }\n    \n\n    componentDidMount(event) {\n\n      let city= this.props.location.state.city;\n      console.log(this.props.location.state.city);\n      console.log(city);\n\n      let category= localStorage.getItem(\"Category\");\n      localStorage.removeItem(\"Category\");\n      console.log(category);\n\n      if(category==undefined)\n      { \n      body = {\n        city: city,\n      }\n      console.log(body);\n      console.log(body.city);\n     \n        const url = \"http://localhost:9000/attractions/city\"; \n        let headers = new Headers();\n\n        headers.append('Content-Type', 'application/json');\n        headers.append('Accept', 'application/json');\n\n        headers.append('Access-Control-Allow-Origin', url);\n        headers.append('Access-Control-Allow-Credentials', 'true');\n\n        headers.append('PUT','POST');\n \n        fetch(url, {\n           headers:headers,\n           method: 'PUT',\n           body: JSON.stringify(body)\n        })\n        .then(response => response.json())\n        .then(contents => { console.log(\"In fetch: \"+ contents);\n                            this.setState({\n                              data : contents\n                            })\n                            console.log('test1 '+this.state)\n          \n                                \n     })\n     .catch(()=> console.log(\"can't access\" + url + \"response. \"))\n    }\n    else\n    {\n      body = {\n        city: city,\n        category: category,\n      }\n      console.log(body);\n      const url = \"http://localhost:9000/attractions/category\";\n      let headers = new Headers();\n\n        headers.append('Content-Type', 'application/json');\n        headers.append('Accept', 'application/json');\n\n        headers.append('Access-Control-Allow-Origin', url);\n        headers.append('Access-Control-Allow-Credentials', 'true');\n\n        headers.append('PUT','POST');\n \n        fetch(url, {\n           headers:headers,\n           method: 'PUT',\n           body: JSON.stringify(body)\n        })\n        .then(response => response.json())\n        .then(contents => { console.log(\"In fetch: \"+ contents);\n                            this.setState({\n                              data : contents\n                            })\n                            console.log('test1 '+this.state)\n          \n                                \n     })\n     .catch(()=> console.log(\"can't access\" + url + \"response. \"))\n    }\n        \n     \n      }\n    \nrender(){\n    const { classes } = this.props;\n   \n    return (\n      \n\n      <React.Fragment>\n      <CssBaseline/>\n      <main>\n        <div \n     >\n      <div style={{display: 'flex', flexFlow: 'horizantal', paddingBottom: '100px'}}>\n      {\n                            ((localStorage.getItem(\"AccessToken\") == null )?\n                            <SideNavBefore history={this.props.history}/>:<SideNav history={this.props.history}/>)\n      }\n        \n        <div className={classes.heroUnit}>\n          <div className={classes.heroContent}>\n          <div className=\"row\">\n          \n            <Typography component=\"h1\" variant=\"h2\" align=\"center\" color=\"textPrimary\" gutterBottom>\n             <b> Attractions to Visit</b>\n            </Typography>\n            <MapRender data={this.state.data} history={this.props.history}/>\n            </div>\n          </div>\n      \n        \n        <div style= {{display: 'flex', flexWrap: 'wrap', margin: '5px'}}>\n        {this.state.data.map((Attractions,index) => {\n            return(\n\n            <div>\n              <div className={classNames( classes.cardGrid)}>\n         \n          <Grid container spacing={24}>\n          \n            {cards.map(card => (\n              \n              <Grid item key={card} sm={2} md={2}>\n                <Card className={classes.card}>\n                  <CardMedia\n                    className={classes.cardMedia}\n                    image={Attractions.imageUrls[0]}\n                    title={Attractions.attr_Name}\n                  />\n                  <CardContent className={classes.cardContent}>\n                    \n                    <Typography gutterBottom variant=\"h6\" component=\"h6\">\n                    <b>{Attractions.attr_Name}</b>\n                    </Typography>\n                    <Typography >\n                <b>Location:</b>{Attractions.location}\n              </Typography>\n              <Typography >\n                <b>Timings:</b>{Attractions.from_Timings} <b> - </b> {Attractions.upto_Timings}\n              </Typography>\n              <Typography >\n                <b>Rating:</b>{Attractions.rating}\n                <Button size=\"small\" color=\"primary\" className={classes.button} style={{float :\"right\"}} onClick = {this.handleViewMore} value={Attractions.aid}>\n                    View More\n                    </Button>\n              </Typography>\n                  </CardContent>\n                </Card>\n              </Grid>\n            ))}\n          </Grid>\n        </div>\n        \n        </div>\n      \n         )\n        })}\n        </div>\n        </div>\n\n      </div>\n\n\n      \n      </div>\n       \n        </main>\n      \n\n     \n        </React.Fragment>\n\n      \n      );\n    }\n    \n}\n  \nCardView.propTypes = {\n  classes: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(CardView);\n"]},"metadata":{},"sourceType":"module"}