{"ast":null,"code":"import _classCallCheck from \"/Users/meghana/Documents/dev/VVfrontend/leaflet-example/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/meghana/Documents/dev/VVfrontend/leaflet-example/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/meghana/Documents/dev/VVfrontend/leaflet-example/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/meghana/Documents/dev/VVfrontend/leaflet-example/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/meghana/Documents/dev/VVfrontend/leaflet-example/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/meghana/Documents/dev/VVfrontend/leaflet-example/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/meghana/Documents/dev/VVfrontend/leaflet-example/src/components/app/mapview/scheduleview.js\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport Card from '@material-ui/core/Card';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport Grid from '@material-ui/core/Grid';\nimport CardActions from '@material-ui/core/CardActions';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardMedia from '@material-ui/core/CardMedia';\nimport Button from '@material-ui/core/Button';\nimport Typography from '@material-ui/core/Typography';\nimport classNames from 'classnames';\nimport Header from '../headers';\nimport SideNav from './../sidebar/sidenav';\nimport SideNavBefore from './../sidebar/sidenavbefore';\nimport MapRender from '../../maprender/mapreder';\nimport Schedule from './schedule';\n\nvar styles = function styles(theme) {\n  return {\n    cardGrid: {\n      padding: \"\".concat(theme.spacing.unit * 8, \"px 0\")\n    },\n    card: {\n      height: '400px',\n      display: 'flex',\n      flexDirection: 'column',\n      width: '350px',\n      margin: '15px'\n    },\n    cardMedia: {\n      paddingTop: '56.25%' // 16:9\n\n    },\n    cardContent: {\n      flexGrow: 1\n    },\n    button: {\n      margin: theme.spacing.unit\n    },\n    input: {\n      display: 'none'\n    }\n  };\n};\n\nvar cards = [1];\nvar body;\nvar flag;\n\nvar ScheduleView =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(ScheduleView, _React$Component);\n\n  function ScheduleView(props) {\n    var _this;\n\n    _classCallCheck(this, ScheduleView);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ScheduleView).call(this, props));\n    _this.handleViewMore = _this.handleViewMore.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleRemove = _this.handleRemove.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.state = {\n      data: [],\n      id: \"\"\n    };\n    return _this;\n  }\n\n  _createClass(ScheduleView, [{\n    key: \"handleViewMore\",\n    value: function handleViewMore(event) {\n      var _this2 = this;\n\n      this.setState({\n        id: event.currentTarget.value\n      }, function () {\n        console.log(_this2.state.id);\n        var id = _this2.state.id;\n        console.log(id);\n        var path = \"/view/\";\n\n        _this2.props.history.push({\n          pathname: path,\n          state: {\n            id: id\n          }\n        });\n\n        console.log(\"sent city\" + _this2.state.id);\n      });\n    }\n  }, {\n    key: \"handleRemove\",\n    value: function handleRemove(event) {\n      console.log(\"Hey reached\");\n      body = {\n        sid: event.currentTarget.value\n      };\n\n      if (window.confirm('Delete the item?')) {\n        console.log(\"deleting started\" + body.sid);\n        var url = \"http://localhost:9000/schedule/delete\";\n        var headers = new Headers();\n        headers.append('Content-Type', 'application/json');\n        headers.append('Accept', 'application/json');\n        headers.append('Access-Control-Allow-Origin', url);\n        headers.append('Access-Control-Allow-Credentials', 'true');\n        headers.append('DELETE', 'POST');\n        fetch(url, {\n          headers: headers,\n          method: 'DELETE',\n          body: JSON.stringify(body)\n        }).then(function (response) {\n          return response.json();\n        }).then(function (contents) {\n          console.log(\"In fetch: \" + contents);\n          window.location.reload();\n        }).catch(function () {\n          return console.log(\"can't access\" + url + \"response. \");\n        });\n      }\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount(event) {\n      var _this3 = this;\n\n      body = {\n        accessToken: localStorage.getItem(\"AccessToken\")\n      };\n      var url = \"http://localhost:9000/schedule/token\";\n      var headers = new Headers();\n      headers.append('Content-Type', 'application/json');\n      headers.append('Accept', 'application/json');\n      headers.append('Access-Control-Allow-Origin', url);\n      headers.append('Access-Control-Allow-Credentials', 'true');\n      headers.append('PUT', 'POST');\n      console.log(\"can't access\" + JSON.stringify(body));\n      console.log(\"Hey hello \");\n      fetch(url, {\n        headers: headers,\n        method: 'PUT',\n        body: JSON.stringify(body)\n      }).then(function (response) {\n        return response.json();\n      }).then(function (contents) {\n        console.log(\"In fetch: \" + contents);\n\n        _this3.setState({\n          data: contents\n        });\n\n        console.log('test1 ' + _this3.state);\n      }).catch(function () {\n        return console.log(\"can't access\" + url + \"response. \");\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this4 = this;\n\n      var classes = this.props.classes;\n      return React.createElement(React.Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158\n        },\n        __self: this\n      }, React.createElement(CssBaseline, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159\n        },\n        __self: this\n      }), React.createElement(\"main\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        style: {\n          display: 'flex',\n          flexFlow: 'horizantal',\n          paddingBottom: '100px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 162\n        },\n        __self: this\n      }, React.createElement(Header, {\n        history: this.props.history,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 163\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: classes.heroUnit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: classes.heroContent,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        style: {\n          display: 'flex',\n          flexWrap: 'wrap',\n          margin: '5px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 175\n        },\n        __self: this\n      }, this.state.data.map(function (Schedule, index) {\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 179\n          },\n          __self: this\n        }, React.createElement(Typography, {\n          component: \"h1\",\n          variant: \"h2\",\n          align: \"center\",\n          color: \"textPrimary\",\n          gutterBottom: true,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 180\n          },\n          __self: this\n        }, React.createElement(\"b\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 181\n          },\n          __self: this\n        }, \" Scheduled Visits\")), React.createElement(\"div\", {\n          className: classNames(classes.cardGrid),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 183\n          },\n          __self: this\n        }, React.createElement(Grid, {\n          container: true,\n          spacing: 24,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 185\n          },\n          __self: this\n        }, cards.map(function (card) {\n          return React.createElement(Grid, {\n            item: true,\n            key: card,\n            sm: 2,\n            md: 2,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 189\n            },\n            __self: this\n          }, React.createElement(Card, {\n            className: classes.card,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 190\n            },\n            __self: this\n          }, React.createElement(CardMedia, {\n            className: classes.cardMedia,\n            image: Schedule.attraction.imageUrls[0],\n            title: Schedule.attraction.attr_Name,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 191\n            },\n            __self: this\n          }), React.createElement(CardContent, {\n            className: classes.cardContent,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 196\n            },\n            __self: this\n          }, React.createElement(Typography, {\n            gutterBottom: true,\n            variant: \"h6\",\n            component: \"h6\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 198\n            },\n            __self: this\n          }, React.createElement(\"b\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 199\n            },\n            __self: this\n          }, Schedule.attraction.attr_Name)), React.createElement(Typography, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 201\n            },\n            __self: this\n          }, React.createElement(\"b\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 202\n            },\n            __self: this\n          }, \"Location:\"), Schedule.attraction.location), React.createElement(Typography, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 204\n            },\n            __self: this\n          }, React.createElement(\"b\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 205\n            },\n            __self: this\n          }, \"Timings:\"), Schedule.attraction.from_Timings, \" \", React.createElement(\"b\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 205\n            },\n            __self: this\n          }, \" - \"), \" \", Schedule.attraction.upto_Timings), React.createElement(Typography, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 207\n            },\n            __self: this\n          }, React.createElement(\"b\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 208\n            },\n            __self: this\n          }, \"Rating:\"), Schedule.attraction.rating), React.createElement(\"div\", {\n            className: \"col md-4\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 211\n            },\n            __self: this\n          }, React.createElement(Button, {\n            size: \"small\",\n            color: \"primary\",\n            className: classes.button,\n            style: {\n              float: \"left\"\n            },\n            onClick: _this4.handleRemove,\n            value: Schedule.sid,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 212\n            },\n            __self: this\n          }, \"Remove\")), React.createElement(\"div\", {\n            className: \"col md-2\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 216\n            },\n            __self: this\n          }, React.createElement(Button, {\n            size: \"small\",\n            color: \"primary\",\n            className: classes.button,\n            style: {\n              float: \"right\"\n            },\n            onClick: _this4.handleViewMore,\n            value: Schedule.attraction.aid,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 217\n            },\n            __self: this\n          }, \"View More\")))));\n        }))));\n      })))))));\n    }\n  }]);\n\n  return ScheduleView;\n}(React.Component);\n\nScheduleView.propTypes = {\n  classes: PropTypes.object.isRequired\n};\nexport default withStyles(styles)(ScheduleView);","map":{"version":3,"sources":["/Users/meghana/Documents/dev/VVfrontend/leaflet-example/src/components/app/mapview/scheduleview.js"],"names":["React","PropTypes","withStyles","Card","CssBaseline","Grid","CardActions","CardContent","CardMedia","Button","Typography","classNames","Header","SideNav","SideNavBefore","MapRender","Schedule","styles","theme","cardGrid","padding","spacing","unit","card","height","display","flexDirection","width","margin","cardMedia","paddingTop","cardContent","flexGrow","button","input","cards","body","flag","ScheduleView","props","handleViewMore","bind","handleRemove","state","data","id","event","setState","currentTarget","value","console","log","path","history","push","pathname","sid","window","confirm","url","headers","Headers","append","fetch","method","JSON","stringify","then","response","json","contents","location","reload","catch","accessToken","localStorage","getItem","classes","flexFlow","paddingBottom","heroUnit","heroContent","flexWrap","map","index","attraction","imageUrls","attr_Name","from_Timings","upto_Timings","rating","float","aid","Component","propTypes","object","isRequired"],"mappings":"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","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport Card from '@material-ui/core/Card';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport Grid from '@material-ui/core/Grid';\nimport CardActions from '@material-ui/core/CardActions';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardMedia from '@material-ui/core/CardMedia';\nimport Button from '@material-ui/core/Button';\nimport Typography from '@material-ui/core/Typography';\nimport classNames from 'classnames';\n\nimport Header from '../headers';\nimport SideNav from './../sidebar/sidenav';\nimport SideNavBefore from './../sidebar/sidenavbefore';\nimport MapRender from '../../maprender/mapreder';\nimport Schedule from './schedule';\n\n\nconst styles = theme => ({\n  \n  cardGrid: {\n    padding: `${theme.spacing.unit * 8}px 0`,\n  },\n  card: {\n    height: '400px',\n    display: 'flex',\n    flexDirection: 'column',\n    width: '350px',\n    margin: '15px'\n    \n  },\n  cardMedia: {\n    paddingTop: '56.25%', // 16:9\n  },\n  cardContent: {\n    flexGrow: 1,\n  },\n  button: {\n    margin: theme.spacing.unit,\n  },\n  input: {\n    display: 'none',\n  },\n});\n\nconst cards = [1];\nvar body;\nlet flag;\n\nclass ScheduleView extends React.Component {\n    constructor(props){\n        super(props);\n        this.handleViewMore =this.handleViewMore.bind(this)\n        this.handleRemove =this.handleRemove.bind(this)\n        this.state = {\n          data : [],\n          id : \"\"\n        }\n      }\n\n\n      handleViewMore(event) {\n\n        this.setState({id:event.currentTarget.value}, () => {\n        console.log(this.state.id)\n    \n        let id=this.state.id\n        console.log(id);\n        let path= `/view/`;\n        this.props.history.push({\n          pathname: path,\n          state: {\n            id : id\n          }\n       }) \n    \n       console.log(\"sent city\"+this.state.id)\n          });\n        \n      }\n\n      handleRemove(event) {\n        console.log(\"Hey reached\")\n       body = { sid : event.currentTarget.value }\n      \n       if(window.confirm('Delete the item?'))\n       {\n         console.log(\"deleting started\" + body.sid)\n         const url = \"http://localhost:9000/schedule/delete\"; \n         let headers = new Headers();\n     \n         headers.append('Content-Type', 'application/json');\n         headers.append('Accept', 'application/json');\n     \n         headers.append('Access-Control-Allow-Origin', url);\n         headers.append('Access-Control-Allow-Credentials', 'true');\n     \n         headers.append('DELETE','POST');\n     \n         fetch(url, {\n            headers:headers,\n            method: 'DELETE',\n            body: JSON.stringify(body)\n         })\n         .then(response => response.json())\n         .then(contents => { console.log(\"In fetch: \"+ contents);\n          window.location.reload(); \n                                 \n      })\n      .catch(()=> console.log(\"can't access\" + url + \"response. \"))\n     }\n      } \n    \n\n    componentDidMount(event) {\n        body = {\n            accessToken : localStorage.getItem(\"AccessToken\"),\n        }\n \n        const url = \"http://localhost:9000/schedule/token\"; \n        let headers = new Headers();\n\n        headers.append('Content-Type', 'application/json');\n        headers.append('Accept', 'application/json');\n\n        headers.append('Access-Control-Allow-Origin', url);\n        headers.append('Access-Control-Allow-Credentials', 'true');\n\n        headers.append('PUT','POST');\n        console.log(\"can't access\" + JSON.stringify(body))\n        console.log(\"Hey hello \")\n \n        fetch(url, {\n           headers:headers,\n           method: 'PUT',\n           body: JSON.stringify(body)\n        })\n        .then(response => response.json())\n        .then(contents => { console.log(\"In fetch: \"+ contents);\n                            this.setState({\n                              data : contents\n                            })\n                            console.log('test1 '+this.state)\n          \n                                \n     })\n     .catch(()=> console.log(\"can't access\" + url + \"response. \"))\n    }\n    \nrender(){\n    const { classes } = this.props;\n   \n    return (\n      \n\n      <React.Fragment>\n      <CssBaseline/>\n      <main>\n        <div >\n      <div style={{display: 'flex', flexFlow: 'horizantal', paddingBottom: '100px'}}>\n     <Header history={this.props.history}/>\n        \n        <div className={classes.heroUnit}>\n          <div className={classes.heroContent}>\n          <div className=\"row\">\n          \n          \n          \n            </div>\n          </div>\n      \n        \n        <div style= {{display: 'flex', flexWrap: 'wrap', margin: '5px'}}>\n        {this.state.data.map((Schedule,index) => {\n            return(\n\n            <div>\n                  <Typography component=\"h1\" variant=\"h2\" align=\"center\" color=\"textPrimary\" gutterBottom>\n             <b> Scheduled Visits</b>\n            </Typography>\n              <div className={classNames( classes.cardGrid)}>\n         \n          <Grid container spacing={24}>\n          \n            {cards.map(card => (\n              \n              <Grid item key={card} sm={2} md={2}>\n                <Card className={classes.card}>\n                  <CardMedia\n                    className={classes.cardMedia}\n                    image={Schedule.attraction.imageUrls[0]}\n                    title={Schedule.attraction.attr_Name}\n                  />\n                  <CardContent className={classes.cardContent}>\n                    \n                    <Typography gutterBottom variant=\"h6\" component=\"h6\">\n                    <b>{Schedule.attraction.attr_Name}</b>\n                    </Typography>\n                    <Typography >\n                <b>Location:</b>{Schedule.attraction.location}\n              </Typography>\n              <Typography >\n                <b>Timings:</b>{Schedule.attraction.from_Timings} <b> - </b> {Schedule.attraction.upto_Timings}\n              </Typography>\n              <Typography >\n                <b>Rating:</b>{Schedule.attraction.rating}\n              </Typography>\n\n                <div className=\"col md-4\">\n                <Button size=\"small\" color=\"primary\" className={classes.button} style={{float :\"left\"}} onClick = {this.handleRemove} value={Schedule.sid}>\n                        Remove\n                    </Button>\n                   </div>\n                <div className=\"col md-2\">\n                    <Button size=\"small\" color=\"primary\" className={classes.button} style={{float :\"right\"}} onClick = {this.handleViewMore} value={Schedule.attraction.aid}>\n                        View More\n                    </Button>\n                </div>\n              \n                  </CardContent>\n                </Card>\n              </Grid>\n            ))}\n          </Grid>\n        </div>\n        \n        </div>\n      \n         )\n        })}\n        </div>\n        </div>\n\n      </div>\n\n\n      \n      </div>\n       \n        </main>\n      \n\n     \n        </React.Fragment>\n       \n      \n      );\n    }\n    \n}\n  \nScheduleView.propTypes = {\n  classes: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(ScheduleView);\n"]},"metadata":{},"sourceType":"module"}