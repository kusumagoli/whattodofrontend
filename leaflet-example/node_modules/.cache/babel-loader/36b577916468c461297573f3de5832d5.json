{"ast":null,"code":"import _classCallCheck from \"/Users/meghana/Documents/dev/VVfrontend/leaflet-example/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/meghana/Documents/dev/VVfrontend/leaflet-example/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/meghana/Documents/dev/VVfrontend/leaflet-example/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/meghana/Documents/dev/VVfrontend/leaflet-example/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/meghana/Documents/dev/VVfrontend/leaflet-example/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/meghana/Documents/dev/VVfrontend/leaflet-example/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/meghana/Documents/dev/VVfrontend/leaflet-example/src/components/app/userprofile/updateprofile.js\";\nimport React from \"react\";\nimport { MDBContainer, MDBRow, MDBIcon, MDBCol, MDBInput } from \"mdbreact\";\nimport { Modal } from \"react-bootstrap\"; //import Button from '@material-ui/core/Button';\n\nimport { Button } from \"react-bootstrap\";\nimport { withStyles } from '@material-ui/styles';\nimport User from 'react-ionicons/lib/MdPerson';\nimport Mail from 'react-ionicons/lib/MdMail';\nimport Pin from \"react-ionicons/lib/MdPin\";\nvar body;\n\nvar UpdateProfile =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(UpdateProfile, _React$Component);\n\n  function UpdateProfile(props) {\n    var _this;\n\n    _classCallCheck(this, UpdateProfile);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(UpdateProfile).call(this, props));\n    _this.state = {\n      username: \"\",\n      email: \"\",\n      city: \"\",\n      show: false\n    };\n    _this.handleUserChange = _this.handleUserChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleEmailChange = _this.handleEmailChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleCityChange = _this.handleCityChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.onUpdateClick = _this.onUpdateClick.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleShow = _this.handleShow.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleClose = _this.handleClose.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(UpdateProfile, [{\n    key: \"onUpdateClick\",\n    value: function onUpdateClick(event) {\n      var _this2 = this;\n\n      console.log(this.state.username);\n      var body = {\n        username: this.state.username,\n        email: this.state.email,\n        city: this.state.city\n      };\n      console.log(body);\n      console.log(body.username);\n      console.log(body.email);\n      console.log(body.city);\n      var url = \"http://localhost:9000/users/update\";\n      console.log(\"url:\" + url);\n      var headers = new Headers();\n      headers.append('Content-Type', 'application/json');\n      headers.append('Accept', 'application/json');\n      headers.append('Access-Control-Allow-origin', url);\n      headers.append('Access-Control-Allow-Credentials', 'true');\n      headers.append('PUT', 'POST');\n      fetch(url, {\n        headers: headers,\n        method: 'POST',\n        body: JSON.stringify(body)\n      }).then(function (response) {\n        return response.json();\n      }).then(function (contents) {\n        console.log(contents);\n\n        _this2.setState({\n          show: false\n        });\n\n        window.location.reload();\n      }).catch(function () {\n        return console.log(\"can't access\" + url + \" response. \");\n      });\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount(event) {\n      var _this3 = this;\n\n      body = {\n        accessToken: localStorage.getItem(\"AccessToken\")\n      };\n      console.log(localStorage.getItem(\"AccessToken\"));\n      var url = \"http://localhost:9000/users/accesstoken\";\n      var headers = new Headers();\n      headers.append('Content-Type', 'application/json');\n      headers.append('Accept', 'application/json');\n      headers.append('Access-Control-Allow-Origin', url);\n      headers.append('Access-Control-Allow-Credentials', 'true');\n      headers.append('PUT', 'POST');\n      fetch(url, {\n        headers: headers,\n        method: 'PUT',\n        body: JSON.stringify(body)\n      }).then(function (response) {\n        return response.json();\n      }).then(function (contents) {\n        console.log(\"In fetch: \" + JSON.stringify(contents));\n\n        _this3.setState({\n          username: contents.username,\n          email: contents.email,\n          city: contents.city\n        });\n\n        console.log(\"response:\" + contents.username);\n        console.log('test1 ' + _this3.state);\n      }).catch(function () {\n        return console.log(\"can't access\" + url + \"response. \");\n      });\n    }\n  }, {\n    key: \"handleUserChange\",\n    value: function handleUserChange(event) {\n      this.setState({\n        username: event.target.value\n      });\n    }\n  }, {\n    key: \"handleEmailChange\",\n    value: function handleEmailChange(event) {\n      this.setState({\n        email: event.target.value\n      });\n    }\n  }, {\n    key: \"handleCityChange\",\n    value: function handleCityChange(event) {\n      this.setState({\n        city: event.target.value\n      });\n    }\n  }, {\n    key: \"handleClose\",\n    value: function handleClose() {\n      this.setState({\n        show: false\n      });\n    }\n  }, {\n    key: \"handleShow\",\n    value: function handleShow() {\n      this.setState({\n        show: true\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151\n        },\n        __self: this\n      }, React.createElement(Button, {\n        style: {\n          fontSize: \"10px\",\n          backgroundColor: \"#16839E\",\n          width: \"150px\"\n        },\n        onClick: this.handleShow,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152\n        },\n        __self: this\n      }, React.createElement(\"b\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156\n        },\n        __self: this\n      }, \" UPDATE PROFILE\")), React.createElement(Modal, {\n        show: this.state.show,\n        onHide: this.handleClose,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158\n        },\n        __self: this\n      }, React.createElement(Modal.Header, {\n        closeButton: true,\n        style: {\n          backgroundColor: \"black\",\n          color: \"white\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159\n        },\n        __self: this\n      }, React.createElement(Modal.Title, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        className: \"h4 text-center mb-4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160\n        },\n        __self: this\n      }, React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160\n        },\n        __self: this\n      }), \"UPDATE PROFILE\"))), React.createElement(Modal.Body, {\n        style: {\n          width: \"1000px\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 162\n        },\n        __self: this\n      }, React.createElement(MDBContainer, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 163\n        },\n        __self: this\n      }, React.createElement(MDBRow, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164\n        },\n        __self: this\n      }, React.createElement(MDBCol, {\n        md: \"6\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165\n        },\n        __self: this\n      }, React.createElement(\"form\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"grey-text\",\n        style: {\n          fontSize: \"18px\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 168\n        },\n        __self: this\n      }, React.createElement(User, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 169\n        },\n        __self: this\n      }), React.createElement(MDBInput, {\n        label: \"User\",\n        icon: \"envelope\",\n        group: true,\n        type: \"text\",\n        validate: true,\n        error: \"wrong\",\n        success: \"right\",\n        disabled: true,\n        value: this.state.username,\n        onChange: this.handleUserChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 170\n        },\n        __self: this\n      }), React.createElement(Mail, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 183\n        },\n        __self: this\n      }), React.createElement(MDBInput, {\n        label: \"Your email\",\n        icon: \"envelope\",\n        group: true,\n        type: \"email\",\n        validate: true,\n        error: \"wrong\",\n        success: \"right\",\n        value: this.state.email,\n        onChange: this.handleEmailChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 184\n        },\n        __self: this\n      }), React.createElement(Pin, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 197\n        },\n        __self: this\n      }), React.createElement(MDBInput, {\n        label: \"Your Permanent Location\",\n        icon: \"globe\",\n        group: true,\n        type: \"text\",\n        validate: true,\n        error: \"wrong\",\n        success: \"right\",\n        value: this.state.city,\n        onChange: this.handleCityChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 198\n        },\n        __self: this\n      })), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 212\n        },\n        __self: this\n      }), \" \", React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 212\n        },\n        __self: this\n      })))))), React.createElement(Modal.Footer, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 221\n        },\n        __self: this\n      }, React.createElement(Button, {\n        onClick: this.handleClose,\n        style: {\n          fontSize: \"15px\",\n          backgroundColor: \"#16839E\",\n          width: \"120px\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 222\n        },\n        __self: this\n      }, \"Close\"), React.createElement(Button, {\n        onClick: this.onUpdateClick,\n        style: {\n          fontSize: \"15px\",\n          backgroundColor: \"#16839E\",\n          width: \"120px\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 225\n        },\n        __self: this\n      }, \"  Update Profile\"))));\n    }\n  }]);\n\n  return UpdateProfile;\n}(React.Component);\n\nexport default UpdateProfile;","map":{"version":3,"sources":["/Users/meghana/Documents/dev/VVfrontend/leaflet-example/src/components/app/userprofile/updateprofile.js"],"names":["React","MDBContainer","MDBRow","MDBIcon","MDBCol","MDBInput","Modal","Button","withStyles","User","Mail","Pin","body","UpdateProfile","props","state","username","email","city","show","handleUserChange","bind","handleEmailChange","handleCityChange","onUpdateClick","handleShow","handleClose","event","console","log","url","headers","Headers","append","fetch","method","JSON","stringify","then","response","json","contents","setState","window","location","reload","catch","accessToken","localStorage","getItem","target","value","fontSize","backgroundColor","width","color","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport {\n  MDBContainer,\n  MDBRow,\n  MDBIcon,\n  MDBCol,\n  MDBInput\n} from \"mdbreact\";\nimport {Modal} from \"react-bootstrap\";\n//import Button from '@material-ui/core/Button';\nimport {Button} from \"react-bootstrap\";\nimport { withStyles} from '@material-ui/styles';\nimport User from 'react-ionicons/lib/MdPerson';\nimport Mail from 'react-ionicons/lib/MdMail';\nimport Pin from \"react-ionicons/lib/MdPin\";\n\n\nlet body;\n\nclass UpdateProfile extends React.Component{\n\n  constructor(props) {\n    super(props);\n    \n\n    this.state = {\n      username : \"\",\n      email: \"\",\n      city: \"\",\n      show: false,\n     \n    }\n\n    this.handleUserChange = this.handleUserChange.bind(this);\n    this.handleEmailChange = this.handleEmailChange.bind(this);\n    this.handleCityChange = this.handleCityChange.bind(this);\n    \n    this.onUpdateClick = this.onUpdateClick.bind(this);  \n    \n    this.handleShow = this.handleShow.bind(this);\n    this.handleClose = this.handleClose.bind(this);\n  }\n  \n  onUpdateClick(event) {\n\n  console.log(this.state.username);\n    \n    let body = {\n      username : this.state.username,\n      email: this.state.email,\n      city: this.state.city,\n\n    }\n    console.log(body)\n    console.log(body.username)\n    console.log(body.email)\n    console.log(body.city)\n    const url = \"http://localhost:9000/users/update\";\n    console.log(\"url:\"+url)\n    let headers = new Headers();\n \n    headers.append('Content-Type','application/json');\n    headers.append('Accept','application/json');\n \n    headers.append('Access-Control-Allow-origin',url);\n    headers.append('Access-Control-Allow-Credentials','true');\n \n    headers.append('PUT','POST');\n \n    fetch(url, {\n       headers:headers,\n       method: 'POST',\n       body: JSON.stringify(body)\n    })\n    .then(response => response.json())\n    .then(contents => {console.log(contents);\n      this.setState({ show: false }); \n      window.location.reload(); \n    \n                   \n })\n .catch(()=> console.log(\"can't access\" + url + \" response. \"))\n\n \n  }\n \n  componentDidMount(event) {\n\n    body = { accessToken: localStorage.getItem(\"AccessToken\") }\n    console.log(localStorage.getItem(\"AccessToken\"))\n   \n      const url = \"http://localhost:9000/users/accesstoken\"; \n      let headers = new Headers();\n\n      headers.append('Content-Type', 'application/json');\n      headers.append('Accept', 'application/json');\n\n      headers.append('Access-Control-Allow-Origin', url);\n      headers.append('Access-Control-Allow-Credentials', 'true');\n\n      headers.append('PUT','POST');\n\n      fetch(url, {\n         headers:headers,\n         method: 'PUT',\n         body: JSON.stringify(body)\n      })\n      .then(response => response.json())\n      .then(contents => { console.log(\"In fetch: \"+ JSON.stringify(contents));\n                          this.setState({\n                            username : contents.username,\n                            email: contents.email,\n                            city: contents.city\n                          })\n                          console.log(\"response:\"+ contents.username)\n                          console.log('test1 '+this.state)\n                          \n                              \n   })\n   .catch(()=> console.log(\"can't access\" + url + \"response. \"))\n   \n    }\n\n  handleUserChange(event) {\n    this.setState({ username: event.target.value})\n  }\n \n\n  handleEmailChange(event) {\n    this.setState({ email: event.target.value})\n\n  }\n\n  handleCityChange(event) {\n    this.setState({ city: event.target.value})\n   \n  }\n\n\n  handleClose() {\n    this.setState({ show: false });\n  }\n\n  handleShow() {\n    this.setState({ show: true });\n  }\n       \n    render(){\n    \n        return (\n            <div>\n              <Button\n              style={{fontSize:\"10px\", backgroundColor:\"#16839E\", width: \"150px\"}}\n                  onClick={this.handleShow}\n                >\n            <b> UPDATE PROFILE</b>\n          </Button>\n      <Modal show={this.state.show} onHide={this.handleClose}  >\n      <Modal.Header closeButton style={{backgroundColor: \"black\", color: \"white\"}}>\n              <Modal.Title><p className=\"h4 text-center mb-4\"><br/><br/><br/>UPDATE PROFILE</p></Modal.Title>\n            </Modal.Header>\n        <Modal.Body style={{width:\"1000px\"}}>\n       <MDBContainer>\n      <MDBRow>\n        <MDBCol md=\"6\">\n          <form>\n            \n            <div className=\"grey-text\" style={{fontSize: \"18px\"}}>\n            <User/>\n            <MDBInput\n                label=\"User\"\n                icon=\"envelope\"\n                group\n                type=\"text\"\n                validate\n                error=\"wrong\"\n                success=\"right\"\n                disabled\n                value = {this.state.username}\n                onChange = {this.handleUserChange}\n              />\n            \n            <Mail/>\n            <MDBInput\n                label=\"Your email\"\n                icon=\"envelope\"\n                group\n                type=\"email\"\n                validate\n                error=\"wrong\"\n                success=\"right\"\n                value = {this.state.email}\n                onChange = {this.handleEmailChange}\n                \n              />\n\n            <Pin/>\n            <MDBInput\n                label=\"Your Permanent Location\"\n                icon=\"globe\"\n                group\n                type=\"text\"\n                validate\n                error=\"wrong\"\n                success=\"right\"\n                value = {this.state.city}\n                onChange = {this.handleCityChange}\n              />\n              \n                   \n      </div>\n      <br/> <br/>\n    </form>\n    </MDBCol>\n    \n    </MDBRow>\n\n\n    </MDBContainer>\n    </Modal.Body>\n    <Modal.Footer >\n              <Button  onClick={this.handleClose} style={{fontSize:\"15px\", backgroundColor:\"#16839E\", width: \"120px\"}}>\n                Close\n              </Button>\n              <Button onClick={this.onUpdateClick} style={{fontSize:\"15px\", backgroundColor:\"#16839E\", width: \"120px\"}}\n                  \n                  >  Update Profile</Button>\n            </Modal.Footer>\n    </Modal>\n      </div>\n          );\n    }\n    \n    \n}\n \n\nexport default UpdateProfile;"]},"metadata":{},"sourceType":"module"}