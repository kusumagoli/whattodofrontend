{"ast":null,"code":"import _defineProperty from \"/Users/meghana/Documents/dev/VVfrontend/leaflet-example/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Users/meghana/Documents/dev/VVfrontend/leaflet-example/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/meghana/Documents/dev/VVfrontend/leaflet-example/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/meghana/Documents/dev/VVfrontend/leaflet-example/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/meghana/Documents/dev/VVfrontend/leaflet-example/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/meghana/Documents/dev/VVfrontend/leaflet-example/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/meghana/Documents/dev/VVfrontend/leaflet-example/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/meghana/Documents/dev/VVfrontend/leaflet-example/src/components/app/mapview/schedule.js\";\nimport React from \"react\";\nimport { MDBContainer, MDBRow, MDBIcon, MDBCol, MDBInput } from \"mdbreact\";\nimport { Modal } from \"react-bootstrap\";\nimport { Button } from \"react-bootstrap\";\nimport Button1 from \"@material-ui/core/Button\";\nimport DatePicker from \"react-datepicker\";\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport Calender from \"react-ionicons/lib/MdCalendar\";\nvar body;\n\nvar Schedule =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Schedule, _React$Component);\n\n  function Schedule(props) {\n    var _this;\n\n    _classCallCheck(this, Schedule);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Schedule).call(this, props));\n    _this.state = {\n      startDate: new Date()\n    };\n    _this.handleChange = _this.handleChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.onAddClick = _this.onAddClick.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleShow = _this.handleShow.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleClose = _this.handleClose.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(Schedule, [{\n    key: \"onAddClick\",\n    value: function onAddClick(event) {\n      var aid = this.props.aid;\n      var token = localStorage.getItem(\"AccessToken\");\n      var url = \"http://localhost:9000/schedule/create\";\n      console.log('token ' + token);\n      var AuthStr = 'Bearer '.concat(token);\n      var headers = new Headers(); //console.log(body);\n\n      headers.append('Content-Type', 'application/json');\n      headers.append('Accept', 'application/json');\n      headers.append('Authorization', AuthStr);\n      console.log(AuthStr);\n      headers.append('Access-Control-Allow-Origin', url);\n      headers.append('Access-Control-Allow-Credentials', 'true');\n      headers.append('PUT', 'POST');\n      console.log(url);\n      body = {\n        aid: aid,\n        date: this.state.startDate\n      };\n      console.log(body);\n      console.log(token);\n      fetch(url, _defineProperty({\n        headers: headers,\n        method: 'POST',\n        body: JSON.stringify(body),\n        withCredentials: true,\n        credentials: 'include'\n      }, \"headers\", {\n        'Authorization': 'Bearer ' + token,\n        'Content-Type': 'application/json',\n        'Access-Control-Allow-Origin': url\n      })).catch(function () {\n        return console.log(\"Canâ€™t access \" + url + \" response. \");\n      });\n      alert(\"Added to Your Schedule\");\n      this.handleClose();\n    }\n  }, {\n    key: \"handleChange\",\n    value: function handleChange(date) {\n      this.setState({\n        startDate: date\n      });\n    }\n  }, {\n    key: \"handleClose\",\n    value: function handleClose() {\n      this.setState({\n        show: false\n      });\n    }\n  }, {\n    key: \"handleShow\",\n    value: function handleShow() {\n      this.setState({\n        show: true\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }, React.createElement(Button1, {\n        size: \"small\",\n        color: \"primary\",\n        style: {\n          float: \"right\"\n        },\n        onClick: this.handleShow,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      }, \"Add to Schedule\"), React.createElement(Modal, {\n        show: this.state.show,\n        onHide: this.handleClose,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108\n        },\n        __self: this\n      }, React.createElement(Modal.Header, {\n        closeButton: true,\n        style: {\n          backgroundColor: \"black\",\n          color: \"white\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      }, React.createElement(Modal.Title, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        className: \"h4 text-center mb-4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      }, \"CHOOSE THE DATE\"))), React.createElement(Modal.Body, {\n        style: {\n          width: \"1000px\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      }, React.createElement(MDBContainer, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      }, React.createElement(MDBRow, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      }, React.createElement(MDBCol, {\n        md: \"6\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115\n        },\n        __self: this\n      }, React.createElement(\"form\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      }, React.createElement(Calender, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117\n        },\n        __self: this\n      }), React.createElement(DatePicker, {\n        selected: this.state.startDate,\n        onChange: this.handleChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122\n        },\n        __self: this\n      }), \" \", React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122\n        },\n        __self: this\n      })))))), React.createElement(Modal.Footer, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131\n        },\n        __self: this\n      }, React.createElement(Button, {\n        onClick: this.handleClose,\n        style: {\n          fontSize: \"15px\",\n          backgroundColor: \"#16839E\",\n          width: \"120px\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132\n        },\n        __self: this\n      }, \"Close\"), React.createElement(Button, {\n        onClick: this.onAddClick,\n        style: {\n          fontSize: \"15px\",\n          backgroundColor: \"#16839E\",\n          width: \"140px\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135\n        },\n        __self: this\n      }, \"Add\"))));\n    }\n  }]);\n\n  return Schedule;\n}(React.Component);\n\nexport default Schedule;","map":{"version":3,"sources":["/Users/meghana/Documents/dev/VVfrontend/leaflet-example/src/components/app/mapview/schedule.js"],"names":["React","MDBContainer","MDBRow","MDBIcon","MDBCol","MDBInput","Modal","Button","Button1","DatePicker","Calender","body","Schedule","props","state","startDate","Date","handleChange","bind","onAddClick","handleShow","handleClose","event","aid","token","localStorage","getItem","url","console","log","AuthStr","concat","headers","Headers","append","date","fetch","method","JSON","stringify","withCredentials","credentials","catch","alert","setState","show","float","backgroundColor","color","width","fontSize","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport {\n  MDBContainer,\n  MDBRow,\n  MDBIcon,\n  MDBCol,\n  MDBInput\n} from \"mdbreact\";\nimport {Modal} from \"react-bootstrap\";\nimport {Button} from \"react-bootstrap\";\nimport Button1 from \"@material-ui/core/Button\";\nimport DatePicker from \"react-datepicker\";\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport Calender from \"react-ionicons/lib/MdCalendar\";\n\nvar body;\n\nclass Schedule extends React.Component{\n\n  constructor(props) {\n    super(props);\n    \n\n    this.state = {\n        startDate: new Date()\n    }\n\n    this.handleChange = this.handleChange.bind(this);    \n    this.onAddClick = this.onAddClick.bind(this);  \n    \n    this.handleShow = this.handleShow.bind(this);\n    this.handleClose = this.handleClose.bind(this);\n  }\n  \n  onAddClick(event) {\n\n    let aid= this.props.aid;\n    let token = localStorage.getItem(\"AccessToken\");\n    const url = \"http://localhost:9000/schedule/create\";\n    console.log('token '+token);\n    const AuthStr = 'Bearer '.concat(token);\n    let headers = new Headers();\n  \n    //console.log(body);\n    headers.append('Content-Type', 'application/json');\n    headers.append('Accept', 'application/json');\n    headers.append('Authorization', AuthStr);\n    console.log(AuthStr);\n    headers.append('Access-Control-Allow-Origin', url);\n    headers.append('Access-Control-Allow-Credentials', 'true');\n  \n    headers.append( 'PUT','POST');\n    console.log(url);\n    body = {\n            aid : aid,\n            date : this.state.startDate\n     \n    }\n   \n    console.log(body);\n    console.log(token);\n   \n    fetch(url, {\n        headers: headers,\n        method: 'POST',\n        body: JSON.stringify(body),\n        withCredentials:true,\n                credentials:'include',\n                headers:{\n                    'Authorization': 'Bearer ' + token,\n                  'Content-Type': 'application/json',\n                  'Access-Control-Allow-Origin': url\n                },\n       \n    })\n    \n \n .catch(() => console.log(\"Canâ€™t access \" + url + \" response. \"))\n\n          alert(\"Added to Your Schedule\");\n          this.handleClose();\n  }\n \n\n  handleChange(date) {\n    this.setState({\n      startDate: date\n    });\n  }\n\n\n  handleClose() {\n    this.setState({ show: false });\n  }\n\n  handleShow() {\n    this.setState({ show: true });\n  }\n       \n    render(){\n   \n    \n        return (\n            <div>\n              <Button1 size=\"small\" color=\"primary\" style={{float :\"right\"}} onClick={this.handleShow}>\n                        Add to Schedule\n                    </Button1>\n      <Modal show={this.state.show} onHide={this.handleClose}  >\n      <Modal.Header closeButton style={{backgroundColor: \"black\", color: \"white\"}}>\n              <Modal.Title><p className=\"h4 text-center mb-4\">CHOOSE THE DATE</p></Modal.Title>\n            </Modal.Header>\n        <Modal.Body style={{width:\"1000px\"}}>\n       <MDBContainer>\n      <MDBRow>\n        <MDBCol md=\"6\">\n          <form>\n            <Calender/>\n          <DatePicker\n                selected={this.state.startDate}\n                onChange={this.handleChange}\n            />\n      <br/> <br/>\n    </form>\n    </MDBCol>\n    \n    </MDBRow>\n\n\n    </MDBContainer>\n    </Modal.Body>\n    <Modal.Footer >\n              <Button  onClick={this.handleClose} style={{fontSize:\"15px\", backgroundColor:\"#16839E\", width: \"120px\"}}>\n                Close\n              </Button>\n              <Button onClick={this.onAddClick} style={{fontSize:\"15px\", backgroundColor:\"#16839E\", width: \"140px\"}}>\n              Add\n               </Button>\n            </Modal.Footer>\n    </Modal>\n      </div>\n          );\n    }\n    \n    \n}\n \n\nexport default Schedule;"]},"metadata":{},"sourceType":"module"}