{"ast":null,"code":"import _classCallCheck from \"/Users/meghana/Documents/dev/VVfrontend/leaflet-example/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/meghana/Documents/dev/VVfrontend/leaflet-example/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/meghana/Documents/dev/VVfrontend/leaflet-example/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/meghana/Documents/dev/VVfrontend/leaflet-example/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/meghana/Documents/dev/VVfrontend/leaflet-example/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/meghana/Documents/dev/VVfrontend/leaflet-example/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/meghana/Documents/dev/VVfrontend/leaflet-example/src/components/app/signup/register.js\";\nimport React from \"react\";\nimport { MDBContainer, MDBRow, MDBCol, MDBModalFooter, MDBIcon, MDBInput } from \"mdbreact\";\nimport { Button } from \"react-bootstrap\";\nimport User1 from 'react-ionicons/lib/IosPerson';\nimport Pswd2 from 'react-ionicons/lib/MdLock';\nimport Mail from 'react-ionicons/lib/MdMail';\nimport Pswd1 from 'react-ionicons/lib/IosLock';\nimport Location from 'react-ionicons/lib/MdPin';\nvar body;\n\nvar Register =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Register, _React$Component);\n\n  function Register(props) {\n    var _this;\n\n    _classCallCheck(this, Register);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Register).call(this, props));\n    _this.state = {\n      username: \"\",\n      email: \"\",\n      password: \"\",\n      confirmpassword: \"\",\n      city: \"\",\n      errors: {}\n    };\n    _this.handlePasswordChange = _this.handlePasswordChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleConfirmPasswordChange = _this.handleConfirmPasswordChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleUserChange = _this.handleUserChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleEmailChange = _this.handleEmailChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleCityChange = _this.handleCityChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.onRegisterClick = _this.onRegisterClick.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.onLoginClick = _this.onLoginClick.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(Register, [{\n    key: \"onRegisterClick\",\n    value: function onRegisterClick(event) {\n      var _this2 = this;\n\n      if (this.validateForm()) {\n        console.log(\"validate form 2\");\n        body = {\n          username: this.state.username,\n          password: this.state.password,\n          email: this.state.email,\n          city: this.state.city\n        };\n        console.log(body);\n        console.log(body.password);\n        console.log(body.username);\n        console.log(body.email);\n        console.log(body.city);\n        var url = \"http://localhost:9000/users\";\n        console.log(url);\n        var headers = new Headers();\n        headers.append('Content-Type', 'application/json');\n        headers.append('Accept', 'application/json');\n        headers.append('Access-Control-Allow-origin', url);\n        headers.append('Access-Control-Allow-Credentials', 'true');\n        headers.append('PUT', 'POST');\n        fetch(url, {\n          headers: headers,\n          method: 'POST',\n          body: JSON.stringify(body)\n        }).then(function (response) {\n          return response.json();\n        }).then(function (contents) {\n          console.log(contents);\n\n          _this2.props.history.push('/login');\n        }).catch(function () {\n          return console.log(\"can't access\" + url + \" response. \");\n        });\n      }\n    }\n  }, {\n    key: \"validateForm\",\n    value: function validateForm() {\n      //return this.state.username.length > 0 && this.state.email.length > 0 && this.state.password.length > 5 && this.state.password==this.state.confirmpassword  && this.state.city.length > 0;\n      console.log(\"validate form 1\");\n      var errors = {};\n      var formIsValid = true;\n\n      if (!this.state.username) {\n        formIsValid = false;\n        errors[\"username\"] = \"*Please enter your username.\";\n      }\n\n      if (typeof this.state.username !== \"undefined\") {\n        if (!this.state.username.match(/^[a-zA-Z ]*$/)) {\n          formIsValid = false;\n          errors[\"username\"] = \"*Please enter alphabet characters only.\";\n        }\n      }\n\n      if (!this.state.email) {\n        formIsValid = false;\n        errors[\"email\"] = \"*Please enter your email-ID.\";\n      }\n\n      if (typeof this.state.email !== \"undefined\") {\n        //regular expression for email validation\n        var pattern = new RegExp(/^((\"[\\w-\\s]+\")|([\\w-]+(?:\\.[\\w-]+)*)|(\"[\\w-\\s]+\")([\\w-]+(?:\\.[\\w-]+)*))(@((?:[\\w-]+\\.)*\\w[\\w-]{0,66})\\.([a-z]{2,6}(?:\\.[a-z]{2})?)$)|(@\\[?((25[0-5]\\.|2[0-4][0-9]\\.|1[0-9]{2}\\.|[0-9]{1,2}\\.))((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\\.){2}(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\\]?$)/i);\n\n        if (!pattern.test(email)) {\n          formIsValid = false;\n          errors[\"email\"] = \"*Please enter valid email-ID.\";\n        }\n      }\n\n      if (!this.state.password) {\n        formIsValid = false;\n        errors[\"password\"] = \"*Please enter your password.\";\n      }\n\n      if (typeof this.state.password !== \"undefined\") {\n        if (!this.state.password.match(/^.*(?=.{8,})(?=.*\\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[@#$%&]).*$/)) {\n          formIsValid = false;\n          errors[\"password\"] = \"*Please enter strong password(must contain atleast small letter,1 capital letter,1 special symbol,1 no) .\";\n        }\n      }\n\n      if (!this.state.confirmpassword) {\n        formIsValid = false;\n        errors[\"confirmpassword\"] = \"*Please enter your confirm password.\";\n      }\n\n      if (typeof this.state.confirmpassword !== \"undefined\") {\n        if (this.state.password != this.state.confirmpassword) {\n          formIsValid = false;\n          errors[\"confirmpassword\"] = \"*Passwords dont match\";\n        }\n      }\n\n      if (!this.state.city) {\n        formIsValid = false;\n        errors[\"city\"] = \"*Please enter your City.\";\n      }\n\n      if (typeof this.state.city !== \"undefined\") {\n        if (!this.state.city.match(/^[a-zA-Z ]*$/)) {\n          formIsValid = false;\n          errors[\"city\"] = \"*Please enter alphabet characters only.\";\n        }\n      }\n\n      this.setState({\n        errors: errors\n      });\n      return formIsValid;\n    }\n  }, {\n    key: \"handlePasswordChange\",\n    value: function handlePasswordChange(event) {\n      this.setState({\n        password: event.target.value\n      });\n      console.log(\"Output:\" + this.state.password);\n    }\n  }, {\n    key: \"handleConfirmPasswordChange\",\n    value: function handleConfirmPasswordChange(event) {\n      this.setState({\n        confirmpassword: event.target.value\n      });\n    }\n  }, {\n    key: \"handleUserChange\",\n    value: function handleUserChange(event) {\n      this.setState({\n        username: event.target.value\n      });\n    }\n  }, {\n    key: \"handleEmailChange\",\n    value: function handleEmailChange(event) {\n      this.setState({\n        email: event.target.value\n      });\n    }\n  }, {\n    key: \"handleCityChange\",\n    value: function handleCityChange(event) {\n      this.setState({\n        city: event.target.value\n      });\n    }\n  }, {\n    key: \"onLoginClick\",\n    value: function onLoginClick() {\n      console.log(this.props.values);\n      console.log(this.props.history);\n      this.props.history.push('/login');\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        style: {\n          backgroundImage: \"url(\" + \"https://wallimpex.com/data/out/629/wallpaper-air-9863103.jpg\" + \")\",\n          backgroundPosition: 'center',\n          backgroundSize: 'cover',\n          backgroundRepeat: 'no-repeat',\n          height: '100vh'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 195\n        },\n        __self: this\n      }, React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 201\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 201\n        },\n        __self: this\n      }), React.createElement(MDBContainer, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 202\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"jumbotron\",\n        style: {\n          backgroundColor: \"white\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 203\n        },\n        __self: this\n      }, React.createElement(MDBRow, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 204\n        },\n        __self: this\n      }, React.createElement(MDBCol, {\n        md: \"4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 205\n        },\n        __self: this\n      }), React.createElement(MDBCol, {\n        md: \"4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 206\n        },\n        __self: this\n      }, React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 207\n        },\n        __self: this\n      }), \"  \", React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 207\n        },\n        __self: this\n      }, React.createElement(\"center\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 207\n        },\n        __self: this\n      }, React.createElement(MDBIcon, {\n        icon: \"users\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 207\n        },\n        __self: this\n      }), \" Register\"), \" \"), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 207\n        },\n        __self: this\n      }), React.createElement(\"form\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 208\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"grey-text\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 209\n        },\n        __self: this\n      }, React.createElement(User1, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 210\n        },\n        __self: this\n      }), React.createElement(MDBInput, {\n        label: \"Your name\",\n        icon: \"user\",\n        group: true,\n        type: \"text\",\n        validate: true,\n        error: \"wrong\",\n        success: \"right\",\n        value: this.state.username,\n        onChange: this.handleUserChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 211\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        style: {\n          fontSize: 12,\n          color: \"red\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 222\n        },\n        __self: this\n      }, this.state.nameError), React.createElement(Mail, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 225\n        },\n        __self: this\n      }), React.createElement(MDBInput, {\n        label: \"Your email\",\n        icon: \"envelope\",\n        group: true,\n        type: \"email\",\n        validate: true,\n        error: \"wrong\",\n        success: \"right\",\n        value: this.state.email,\n        onChange: this.handleEmailChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 226\n        },\n        __self: this\n      }), React.createElement(Pswd1, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 237\n        },\n        __self: this\n      }), React.createElement(MDBInput, {\n        label: \"Your password\",\n        icon: \"lock\",\n        group: true,\n        type: \"password\",\n        validate: true,\n        value: this.state.password,\n        onChange: this.handlePasswordChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 238\n        },\n        __self: this\n      }), React.createElement(Pswd2, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 247\n        },\n        __self: this\n      }), React.createElement(MDBInput, {\n        label: \"Confirm your Password\",\n        icon: \"exclamation-triangle\",\n        group: true,\n        type: \"password\",\n        validate: true,\n        value: this.state.confirmpassword,\n        onChange: this.handleConfirmPasswordChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 248\n        },\n        __self: this\n      }), React.createElement(Location, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 257\n        },\n        __self: this\n      }), React.createElement(MDBInput, {\n        label: \"Your Permanent Location\",\n        icon: \"globe\",\n        group: true,\n        type: \"text\",\n        validate: true,\n        error: \"wrong\",\n        success: \"right\",\n        value: this.state.city,\n        onChange: this.handleCityChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 258\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"text-center mt-4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 272\n        },\n        __self: this\n      }, React.createElement(Button, {\n        onClick: this.onRegisterClick,\n        style: {\n          background: \"#2DABCA\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 273\n        },\n        __self: this\n      }, \"Register\"))), React.createElement(MDBModalFooter, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 276\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"font-weight-light\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 277\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 278\n        },\n        __self: this\n      }, \"Already a member? \", React.createElement(Button, {\n        onClick: this.onLoginClick,\n        style: {\n          background: \"#2DABCA\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 278\n        },\n        __self: this\n      }, \"Login\")))))))));\n    }\n  }]);\n\n  return Register;\n}(React.Component);\n\nexport default Register;","map":{"version":3,"sources":["/Users/meghana/Documents/dev/VVfrontend/leaflet-example/src/components/app/signup/register.js"],"names":["React","MDBContainer","MDBRow","MDBCol","MDBModalFooter","MDBIcon","MDBInput","Button","User1","Pswd2","Mail","Pswd1","Location","body","Register","props","state","username","email","password","confirmpassword","city","errors","handlePasswordChange","bind","handleConfirmPasswordChange","handleUserChange","handleEmailChange","handleCityChange","onRegisterClick","onLoginClick","event","validateForm","console","log","url","headers","Headers","append","fetch","method","JSON","stringify","then","response","json","contents","history","push","catch","formIsValid","match","pattern","RegExp","test","setState","target","value","values","backgroundImage","backgroundPosition","backgroundSize","backgroundRepeat","height","backgroundColor","fontSize","color","nameError","background","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport {\n  MDBContainer,\n  MDBRow,\n  MDBCol,\n  MDBModalFooter,\n  MDBIcon,\n  MDBInput\n} from \"mdbreact\";\nimport {Button} from \"react-bootstrap\";\nimport User1 from 'react-ionicons/lib/IosPerson';\nimport Pswd2 from 'react-ionicons/lib/MdLock';\nimport Mail from 'react-ionicons/lib/MdMail';\nimport Pswd1 from 'react-ionicons/lib/IosLock';\nimport Location from 'react-ionicons/lib/MdPin';\n\n\n\n var body;\n\nclass Register extends React.Component {\n\n\n  constructor(props) {\n    super(props);\n\n    this.state =\n    {\n      username : \"\",\n      email : \"\",\n      password : \"\",\n      confirmpassword : \"\",\n      city : \"\",\n      errors : {},\n      \n      \n\n    }\n\n    this.handlePasswordChange = this.handlePasswordChange.bind(this);\n    this.handleConfirmPasswordChange = this.handleConfirmPasswordChange.bind(this);\n    this.handleUserChange = this.handleUserChange.bind(this);\n    this.handleEmailChange = this.handleEmailChange.bind(this);\n    this.handleCityChange = this.handleCityChange.bind(this);\n    this.onRegisterClick = this.onRegisterClick.bind(this);\n    this.onLoginClick = this.onLoginClick.bind(this);\n    \n  }\n\n  onRegisterClick(event) {\n    if(this.validateForm())\n    {\n    console.log(\"validate form 2\")\n    body = {\n      username: this.state.username,\n      password: this.state.password,\n      email: this.state.email,\n      city: this.state.city,\n\n    }\n    console.log(body)\n    console.log(body.password)\n    console.log(body.username)\n    console.log(body.email)\n    console.log(body.city)\n    const url = \"http://localhost:9000/users\";\n    console.log(url)\n    let headers = new Headers();\n \n    headers.append('Content-Type','application/json');\n    headers.append('Accept','application/json');\n \n    headers.append('Access-Control-Allow-origin',url);\n    headers.append('Access-Control-Allow-Credentials','true');\n \n    headers.append('PUT','POST');\n \n    fetch(url, {\n       headers:headers,\n       method: 'POST',\n       body: JSON.stringify(body)\n    })\n    .then(response => response.json())\n    .then(contents => {console.log(contents);\n      this.props.history.push('/login')\n                      \n })\n .catch(()=> console.log(\"can't access\" + url + \" response. \"))\n    }\n \n  }\n\n  validateForm() {\n    //return this.state.username.length > 0 && this.state.email.length > 0 && this.state.password.length > 5 && this.state.password==this.state.confirmpassword  && this.state.city.length > 0;\n    console.log(\"validate form 1\")\n\n    let errors = {};\n    let formIsValid = true;\n\n    if (!this.state.username) {\n      formIsValid = false;\n      errors[\"username\"] = \"*Please enter your username.\";\n    }\n\n    if (typeof (this.state.username) !== \"undefined\") {\n      if (!(this.state.username).match(/^[a-zA-Z ]*$/)) {\n        formIsValid = false;\n        errors[\"username\"] = \"*Please enter alphabet characters only.\";\n      }\n    }\n\n    if (!this.state.email) {\n      formIsValid = false;\n      errors[\"email\"] = \"*Please enter your email-ID.\";\n    }\n\n    if (typeof (this.state.email) !== \"undefined\") {\n      //regular expression for email validation\n      var pattern = new RegExp(/^((\"[\\w-\\s]+\")|([\\w-]+(?:\\.[\\w-]+)*)|(\"[\\w-\\s]+\")([\\w-]+(?:\\.[\\w-]+)*))(@((?:[\\w-]+\\.)*\\w[\\w-]{0,66})\\.([a-z]{2,6}(?:\\.[a-z]{2})?)$)|(@\\[?((25[0-5]\\.|2[0-4][0-9]\\.|1[0-9]{2}\\.|[0-9]{1,2}\\.))((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\\.){2}(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\\]?$)/i);\n      if (!pattern.test((email))) {\n        formIsValid = false;\n        errors[\"email\"] = \"*Please enter valid email-ID.\";\n      }\n    }\n\n    if (!this.state.password) {\n      formIsValid = false;\n      errors[\"password\"] = \"*Please enter your password.\";\n    }\n\n    if (typeof (this.state.password) !== \"undefined\") {\n      if (!(this.state.password).match(/^.*(?=.{8,})(?=.*\\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[@#$%&]).*$/)) {\n        formIsValid = false;\n        errors[\"password\"] = \"*Please enter strong password(must contain atleast small letter,1 capital letter,1 special symbol,1 no) .\";\n      }\n    }\n    if (!this.state.confirmpassword) {\n      formIsValid = false;\n      errors[\"confirmpassword\"] = \"*Please enter your confirm password.\";\n    }\n    if (typeof (this.state.confirmpassword) !== \"undefined\") {\n      if ((this.state.password)!=(this.state.confirmpassword)) {\n        formIsValid = false;\n        errors[\"confirmpassword\"] = \"*Passwords dont match\";\n      }\n    }\n\n    if (!this.state.city) {\n      formIsValid = false;\n      errors[\"city\"] = \"*Please enter your City.\";\n    }\n\n    if (typeof (this.state.city) !== \"undefined\") {\n      if (!(this.state.city).match(/^[a-zA-Z ]*$/)) {\n        formIsValid = false;\n        errors[\"city\"] = \"*Please enter alphabet characters only.\";\n      }\n    }\n\n    this.setState({\n      errors: errors\n    });\n    return formIsValid;\n  }\n\n  handlePasswordChange (event) {\n    this.setState({password: event.target.value});\n    console.log(\"Output:\" +this.state.password)\n  }\n\n  handleConfirmPasswordChange (event) {\n    this.setState({confirmpassword: event.target.value});\n  }\n\n  handleUserChange(event) {\n    this.setState({ username: event.target.value})\n  }\n\n  handleEmailChange(event) {\n    this.setState({ email: event.target.value})\n  }\n\n  handleCityChange(event) {\n    this.setState({ city: event.target.value})\n  }\n\n    onLoginClick(){\n    console.log(this.props.values)\n    console.log(this.props.history)\n    this.props.history.push('/login')\n  }\nrender(){\n\n  return (\n    <div style={{backgroundImage: \"url(\" + \"https://wallimpex.com/data/out/629/wallpaper-air-9863103.jpg\" + \")\",\n    backgroundPosition: 'center',\n    backgroundSize: 'cover',\n    backgroundRepeat: 'no-repeat',\n    height: '100vh',\n     }}>\n     <br/><br/>\n    <MDBContainer>\n      <div className=\"jumbotron\" style={{backgroundColor: \"white\"}}>\n      <MDBRow>\n          <MDBCol md=\"4\"></MDBCol>\n        <MDBCol md=\"4\">\n        <br/>  <h1><center><MDBIcon icon=\"users\" /> Register</center> </h1><br/>\n              <form>\n                <div className=\"grey-text\">\n                <User1/>\n                <MDBInput\n                label=\"Your name\"\n                icon=\"user\"\n                group\n                type=\"text\"\n                validate\n                error=\"wrong\"\n                success=\"right\"\n                value = {this.state.username}\n                onChange = {this.handleUserChange}\n              />\n              <div style={{ fontSize: 12, color: \"red\" }}>\n            {this.state.nameError}\n          </div>\n          <Mail/>\n              <MDBInput\n                label=\"Your email\"\n                icon=\"envelope\"\n                group\n                type=\"email\"\n                validate\n                error=\"wrong\"\n                success=\"right\"\n                value = {this.state.email}\n                onChange = {this.handleEmailChange}\n              />\n              <Pswd1/>\n              <MDBInput\n                label=\"Your password\"\n                icon=\"lock\"\n                group\n                type=\"password\"\n                validate\n                value = {this.state.password}\n                onChange = {this.handlePasswordChange}\n              />\n              <Pswd2/>\n              <MDBInput\n                label=\"Confirm your Password\"\n                icon=\"exclamation-triangle\"\n                group\n                type=\"password\"\n                validate\n                value = {this.state.confirmpassword}\n                onChange = {this.handleConfirmPasswordChange}\n              />\n              <Location/>\n              <MDBInput\n                label=\"Your Permanent Location\"\n                icon=\"globe\"\n                group\n                type=\"text\"\n                validate\n                error=\"wrong\"\n                success=\"right\"\n                value = {this.state.city}\n                onChange = {this.handleCityChange}\n              />\n\n                </div>\n\n                <div className=\"text-center mt-4\">\n              <Button onClick={this.onRegisterClick}  style={{background : \"#2DABCA\"}}>Register</Button>\n              </div>\n              </form>\n              <MDBModalFooter>\n                <div className=\"font-weight-light\">\n                  <p>Already a member? <Button onClick={this.onLoginClick} style={{background : \"#2DABCA\"}}>Login</Button></p>\n                </div>\n              </MDBModalFooter>\n        </MDBCol>\n      </MDBRow>\n      </div>\n    </MDBContainer>\n    </div>\n  );\n};\n\n}\n  \n\nexport default Register;"]},"metadata":{},"sourceType":"module"}