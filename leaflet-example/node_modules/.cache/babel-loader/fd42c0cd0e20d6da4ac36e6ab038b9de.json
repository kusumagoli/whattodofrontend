{"ast":null,"code":"import _classCallCheck from \"/Users/meghana/Documents/dev/VVfrontend/leaflet-example/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/meghana/Documents/dev/VVfrontend/leaflet-example/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/meghana/Documents/dev/VVfrontend/leaflet-example/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/meghana/Documents/dev/VVfrontend/leaflet-example/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/meghana/Documents/dev/VVfrontend/leaflet-example/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/meghana/Documents/dev/VVfrontend/leaflet-example/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/meghana/Documents/dev/VVfrontend/leaflet-example/src/components/app/userprofile/createdattractions.js\";\nimport React from \"react\";\nimport { MDBContainer, MDBRow, MDBIcon, MDBCol, MDBInput } from \"mdbreact\";\nimport { Modal, Alert } from \"react-bootstrap\"; //import Button from '@material-ui/core/Button';\n\nimport { Button } from \"react-bootstrap\";\nimport { withStyles } from '@material-ui/styles';\nvar body;\n\nvar CreatedAttractions =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(CreatedAttractions, _React$Component);\n\n  function CreatedAttractions(props) {\n    var _this;\n\n    _classCallCheck(this, CreatedAttractions);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(CreatedAttractions).call(this, props));\n    _this.state = {\n      data: [],\n      show: false,\n      aid: \"\"\n    };\n    _this.handleDelete = _this.handleDelete.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleShow = _this.handleShow.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleClose = _this.handleClose.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleEdit = _this.handleEdit.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(CreatedAttractions, [{\n    key: \"handleEdit\",\n    value: function handleEdit(event) {\n      var _this2 = this;\n\n      this.setState({\n        aid: event.currentTarget.value\n      }, function () {\n        console.log(_this2.state.aid);\n        var aid = _this2.state.aid;\n        console.log(aid);\n        console.log(\"sending aid\" + aid);\n        var path = \"/editattr/\";\n\n        _this2.props.history.push({\n          pathname: path,\n          state: {\n            aid: aid\n          }\n        });\n\n        console.log(\"sent city\" + _this2.state.city);\n      });\n    }\n  }, {\n    key: \"handleDelete\",\n    value: function handleDelete(event) {\n      var _this3 = this;\n\n      console.log(\"Hey reached\");\n      body = {\n        aid: event.currentTarget.value\n      };\n      console.log(this.state.aid);\n\n      if (window.confirm('Delete the item?')) {\n        console.log(\"deleting started\" + body.aid);\n        var url = \"http://localhost:9000/attractions/delete\";\n        var headers = new Headers();\n        headers.append('Content-Type', 'application/json');\n        headers.append('Accept', 'application/json');\n        headers.append('Access-Control-Allow-Origin', url);\n        headers.append('Access-Control-Allow-Credentials', 'true');\n        headers.append('DELETE', 'POST');\n        fetch(url, {\n          headers: headers,\n          method: 'DELETE',\n          body: JSON.stringify(body)\n        }).then(function (response) {\n          return response.json();\n        }).then(function (contents) {\n          console.log(\"In fetch: \" + contents);\n\n          _this3.handleClose();\n\n          window.location.reload();\n        }).catch(function () {\n          return console.log(\"can't access\" + url + \"response. \");\n        });\n      }\n    }\n  }, {\n    key: \"handleClose\",\n    value: function handleClose() {\n      this.setState({\n        show: false\n      });\n    }\n  }, {\n    key: \"handleShow\",\n    value: function handleShow() {\n      this.setState({\n        show: true\n      });\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount(event) {\n      var _this4 = this;\n\n      body = {\n        accessToken: localStorage.getItem(\"AccessToken\")\n      };\n      console.log(localStorage.getItem(\"AccessToken\"));\n      var url = \"http://localhost:9000/attractions/token\";\n      var headers = new Headers();\n      headers.append('Content-Type', 'application/json');\n      headers.append('Accept', 'application/json');\n      headers.append('Access-Control-Allow-Origin', url);\n      headers.append('Access-Control-Allow-Credentials', 'true');\n      headers.append('PUT', 'POST');\n      fetch(url, {\n        headers: headers,\n        method: 'PUT',\n        body: JSON.stringify(body)\n      }).then(function (response) {\n        return response.json();\n      }).then(function (contents) {\n        console.log(\"In fetch: \" + contents);\n\n        _this4.setState({\n          data: contents\n        });\n\n        console.log('test1 ' + _this4.state);\n      }).catch(function () {\n        return console.log(\"can't access\" + url + \"response. \");\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this5 = this;\n\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144\n        },\n        __self: this\n      }, React.createElement(Button, {\n        style: {\n          fontSize: \"10px\",\n          backgroundColor: \"#1B5868\",\n          width: \"150px\"\n        },\n        onClick: this.handleShow,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145\n        },\n        __self: this\n      }, React.createElement(\"b\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150\n        },\n        __self: this\n      }, \"CREATED ATTRACTIONS \")), React.createElement(Modal, {\n        show: this.state.show,\n        onHide: this.handleClose,\n        dialogClassName: \"modal-100w\",\n        \"aria-labelledby\": \"example-custom-modal-styling-title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152\n        },\n        __self: this\n      }, React.createElement(Modal.Header, {\n        closeButton: true,\n        style: {\n          backgroundColor: \"black\",\n          color: \"white\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155\n        },\n        __self: this\n      }, React.createElement(Modal.Title, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        className: \"h3 text-center mb-4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156\n        },\n        __self: this\n      }, React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156\n        },\n        __self: this\n      }), \"CREATED ATTRACTIONS\"))), React.createElement(Modal.Body, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158\n        },\n        __self: this\n      }, React.createElement(MDBContainer, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159\n        },\n        __self: this\n      }, React.createElement(MDBRow, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160\n        },\n        __self: this\n      }, React.createElement(MDBCol, {\n        md: \"9\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 162\n        },\n        __self: this\n      }, React.createElement(\"table\", {\n        className: \"table table-hover\",\n        style: {\n          width: \"2000px\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 163\n        },\n        __self: this\n      }, React.createElement(\"thead\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164\n        },\n        __self: this\n      }, React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165\n        },\n        __self: this\n      }, React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166\n        },\n        __self: this\n      }, \"Attractions\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 168\n        },\n        __self: this\n      }, \"City\"))), React.createElement(\"tbody\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 171\n        },\n        __self: this\n      }, this.state.data.map(function (Attractions, index) {\n        return React.createElement(\"tr\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 174\n          },\n          __self: this\n        }, React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 175\n          },\n          __self: this\n        }, Attractions.attr_Name), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 176\n          },\n          __self: this\n        }, Attractions.city), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 179\n          },\n          __self: this\n        }, React.createElement(Button, {\n          onClick: _this5.handleEdit,\n          value: Attractions.aid,\n          style: {\n            margin: \"4px\",\n            fontSize: \"10px\",\n            backgroundColor: \"#1885A1\",\n            width: \"100px\"\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 180\n          },\n          __self: this\n        }, \"Edit\")), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 182\n          },\n          __self: this\n        }, React.createElement(Button, {\n          style: {\n            margin: \"4px\",\n            fontSize: \"10px\",\n            backgroundColor: \"#1885A1\",\n            width: \"100px\"\n          },\n          onClick: _this5.handleDelete,\n          value: Attractions.aid,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 183\n          },\n          __self: this\n        }, \"Delete\")));\n      })))))))), React.createElement(Modal.Footer, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 201\n        },\n        __self: this\n      }, React.createElement(Button, {\n        onClick: this.handleClose,\n        style: {\n          margin: \"4px\",\n          fontSize: \"10px\",\n          backgroundColor: \"#1B5868\",\n          width: \"100px\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 203\n        },\n        __self: this\n      }, \"  Done \"))));\n    }\n  }]);\n\n  return CreatedAttractions;\n}(React.Component);\n\nexport default CreatedAttractions;","map":{"version":3,"sources":["/Users/meghana/Documents/dev/VVfrontend/leaflet-example/src/components/app/userprofile/createdattractions.js"],"names":["React","MDBContainer","MDBRow","MDBIcon","MDBCol","MDBInput","Modal","Alert","Button","withStyles","body","CreatedAttractions","props","state","data","show","aid","handleDelete","bind","handleShow","handleClose","handleEdit","event","setState","currentTarget","value","console","log","path","history","push","pathname","city","window","confirm","url","headers","Headers","append","fetch","method","JSON","stringify","then","response","json","contents","location","reload","catch","accessToken","localStorage","getItem","fontSize","backgroundColor","width","color","map","Attractions","index","attr_Name","margin","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport {\n  MDBContainer,\n  MDBRow,\n  MDBIcon,\n  MDBCol,\n  MDBInput\n} from \"mdbreact\";\nimport {Modal, Alert} from \"react-bootstrap\";\n//import Button from '@material-ui/core/Button';\nimport {Button} from \"react-bootstrap\";\nimport { withStyles} from '@material-ui/styles';\n\n\nvar body;\n\n\nclass CreatedAttractions extends React.Component{\n\n  constructor(props) {\n    super(props);\n\n    this.state =\n    {\n      data : [],\n      show: false,\n      aid: \"\"\n\n    }\n    this.handleDelete = this.handleDelete.bind(this);\n    this.handleShow = this.handleShow.bind(this);\n    this.handleClose = this.handleClose.bind(this);\n    this.handleEdit = this.handleEdit.bind(this);\n  }\n\n\n  handleEdit(event) {\n\n    this.setState({aid : event.currentTarget.value}, () => {\n    console.log(this.state.aid)\n\n    let aid =this.state.aid\n    console.log(aid);\n\n  \n\n    console.log(\"sending aid\"+aid)\n    let path= `/editattr/`;\n    this.props.history.push({\n      pathname: path,\n      state: {\n        aid: aid\n      }\n   }) \n\n   console.log(\"sent city\"+this.state.city)\n      });\n    \n  }\n\n handleDelete(event) {\n   console.log(\"Hey reached\")\n  body = { aid : event.currentTarget.value }\n  console.log(this.state.aid)\n  if(window.confirm('Delete the item?'))\n  {\n    console.log(\"deleting started\" + body.aid)\n    const url = \"http://localhost:9000/attractions/delete\"; \n    let headers = new Headers();\n\n    headers.append('Content-Type', 'application/json');\n    headers.append('Accept', 'application/json');\n\n    headers.append('Access-Control-Allow-Origin', url);\n    headers.append('Access-Control-Allow-Credentials', 'true');\n\n    headers.append('DELETE','POST');\n\n    fetch(url, {\n       headers:headers,\n       method: 'DELETE',\n       body: JSON.stringify(body)\n    })\n    .then(response => response.json())\n    .then(contents => { console.log(\"In fetch: \"+ contents);\n     this.handleClose() \n     window.location.reload(); \n                            \n })\n .catch(()=> console.log(\"can't access\" + url + \"response. \"))\n}\n } \n\n\n\n  handleClose() {\n    this.setState({ show: false });\n  }\n\n  handleShow() {\n    this.setState({ show: true });\n  }\n    \n\n\n  componentDidMount(event) {\n\n    body = { accessToken: localStorage.getItem(\"AccessToken\") }\n    console.log(localStorage.getItem(\"AccessToken\"))\n   \n      const url = \"http://localhost:9000/attractions/token\"; \n      let headers = new Headers();\n\n      headers.append('Content-Type', 'application/json');\n      headers.append('Accept', 'application/json');\n\n      headers.append('Access-Control-Allow-Origin', url);\n      headers.append('Access-Control-Allow-Credentials', 'true');\n\n      headers.append('PUT','POST');\n\n      fetch(url, {\n         headers:headers,\n         method: 'PUT',\n         body: JSON.stringify(body)\n      })\n      .then(response => response.json())\n      .then(contents => { console.log(\"In fetch: \"+ contents);\n                          this.setState({\n                            data : contents\n                          })\n                          console.log('test1 '+this.state)\n        \n                              \n   })\n   .catch(()=> console.log(\"can't access\" + url + \"response. \"))\n   \n    }\n    \n    render(){\n     \n    \n        return (\n            <div>\n              <Button\n              style={{fontSize:\"10px\", backgroundColor:\"#1B5868\", width: \"150px\"}}\n                \n                  onClick={this.handleShow}\n                >\n            <b>CREATED ATTRACTIONS </b>\n          </Button>\n      <Modal show={this.state.show} onHide={this.handleClose}  \n          dialogClassName=\"modal-100w\"\n          aria-labelledby=\"example-custom-modal-styling-title\" >\n      <Modal.Header closeButton style={{backgroundColor: \"black\", color: \"white\"}}>\n              <Modal.Title><p className=\"h3 text-center mb-4\"><br/><br/>CREATED ATTRACTIONS</p></Modal.Title>\n            </Modal.Header>\n        <Modal.Body >\n       <MDBContainer>\n       <MDBRow>\n        <MDBCol md=\"9\">\n       <div >\n                <table className=\"table table-hover\" style={{width: \"2000px\"}}>\n                    <thead>\n                        <tr>\n                            <th>Attractions</th>\n                            \n                            <th>City</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                    {this.state.data.map((Attractions,index) => {\n            return(\n                  <tr  >\n                    <td>{Attractions.attr_Name}</td>\n                    <td>{Attractions.city}</td>\n                   \n\n                    <td>\n                      <Button  onClick={this.handleEdit} value={Attractions.aid} style={{margin : \"4px\", fontSize:\"10px\", backgroundColor:\"#1885A1\", width: \"100px\"}}>Edit</Button>\n                    </td>\n                    <td>\n                  <Button style={{margin : \"4px\", fontSize:\"10px\", backgroundColor:\"#1885A1\", width: \"100px\"}} \n                  onClick= {this.handleDelete}\n                  value={Attractions.aid}>Delete</Button>\n\n                  \n                  </td>\n               \n                  </tr>\n            )}\n            )}\n                    </tbody>\n                </table>\n            </div>\n            </MDBCol>\n    </MDBRow>\n     \n    </MDBContainer>\n    </Modal.Body>\n    <Modal.Footer >\n          \n              <Button onClick={this.handleClose} style={{margin : \"4px\", fontSize:\"10px\", backgroundColor:\"#1B5868\", width: \"100px\"}}\n                  >  Done </Button>\n            </Modal.Footer>\n    </Modal>\n\n   \n      </div>\n      \n          );\n       \n    }\n\n    \n    \n}\n \n\nexport default CreatedAttractions;"]},"metadata":{},"sourceType":"module"}